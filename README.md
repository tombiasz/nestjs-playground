## Description

Sample project based on [Nest.js](https://github.com/nestjs/nest) framework

## Features

- modular config
- auth using aws cognito integration
- async processing with outbox pattern using sqs
- pino logger
- request correlation id
- typeorm integration
- zod validation
- helmet integration
- rest client api documentation

## Missing parts

- tests
- swagger autogenerated docs
- terraform for aws services

## Installation

```bash
$ nvm use
$ npm install
$ cp .env.default .env
```

## Running the app

```bash
# start db in docker
$ docker-compose -up -d

# development
$ npm run start

# watch mode
$ npm run start:dev

# production mode
$ npm run start:prod
```

## Test

```bash
# unit tests
$ npm run test

# e2e tests
$ npm run test:e2e

# test coverage
$ npm run test:cov
```

## Snippets

```
aws cognito-idp initiate-auth --region eu-north-1 --auth-flow USER_PASSWORD_AUTH --client-id AWS_COGNITO_CLIENT_ID --auth-parameters USERNAME=XXX,PASSWORD=YYY
```
